"use strict";(self.webpackChunkbx24_template=self.webpackChunkbx24_template||[]).push([[798],{7724:(e,t,a)=>{a.d(t,{G:()=>u});var r,n,o,l=a(2982),c=a(885),s=a(7294),i=a(9732),d=a(7478);function u(e){var t=e.criterion,a=e.userData,r=e.changeRated;(0,s.useEffect)((function(){setTimeout(BX24.fitWindow,20)}),[]);var n=(0,s.useContext)(d.d),o=s.useContext(i.O),u=o.rates,f=o.setRates,p={task:n.options.taskId,user:a.id,criterion:t.ID,comm:"",rate:0},m=_(),v=s.useState(-1!==m),b=(0,c.Z)(v,2),E=b[0],L=b[1],R=s.useState(-1===m?0:u[m].rate),g=(0,c.Z)(R,2),h=g[0],H=g[1],y=s.useState(-1===m?"":u[m].comm),G=(0,c.Z)(y,2),x=G[0],S=G[1],I=s.useState(""!==x),D=(0,c.Z)(I,2),A=D[0],T=D[1];function _(){var e=-1;return u.find((function(t,a){return t.user===p.user&&t.criterion===p.criterion&&t.task===p.task&&(e=a,!0)})),e}function w(e,t){e&&(p.rate=e),t&&(p.comm=t),C()}function C(){var e=_(),t=(0,l.Z)(u);-1!=e?t.splice(e,1,p):t.push(p),f(t),r(t)}return s.createElement("li",{className:"list-group-item"},s.createElement("div",{className:"row align-items-center ".concat(E?"":"opacity-50")},s.createElement("label",{htmlFor:"rate".concat(p.user).concat(p.criterion,"Range"),className:"form-label col-4 mb-0"},s.createElement("input",{className:"form-check-input me-2",type:"checkbox",checked:E,onChange:function(){E?(H(0),function(){var e=_(),t=(0,l.Z)(u);-1!=e&&(t.splice(e,1),f(t)),r(t)}(),A&&(p.comm="",S(""),T(!A))):w(),L(!E)},id:"rate".concat(p.user).concat(p.criterion,"Range")}),t.NAME),s.createElement("div",{className:"col-3"},s.createElement("input",{disabled:!E,value:h,onChange:function(e){H(parseInt(e.target.value)),w(parseInt(e.target.value),x)},type:"range",className:"form-range",min:"0",max:"10"})),s.createElement("div",{className:"col-2 text-body-secondary text-center"},E?s.createElement(s.Fragment,null,h,"/10"):null),s.createElement("div",{className:"col-3"},E?s.createElement("ins",{style:{cursor:"pointer"},onClick:function(){A&&(p.comm="",S("")),T(!A),C(),setTimeout(BX24.fitWindow,20)}},"Комментарий"):null)),E&&A?s.createElement("div",{className:"form-floating my-2"},s.createElement("textarea",{className:"form-control",placeholder:"",id:"floatingTextarea",onInput:function(e){var t;t=e.target.value,S(t),p.comm=t.trim(),w(h,t.trim())},value:x}),s.createElement("label",{htmlFor:"floatingTextarea",className:"opacity-50"},"Комментарий")):null)}e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useEffect{}\nuseContext{placementInfo}\nuseContext{{ rates, setRates }}\nuseState{[isEnabled, setEnable](rateId === -1 ? false : true)}\nuseState{[rate, setRate](rateId === -1 ? 0 : rates[rateId].rate)}\nuseState{[comm, setComm](rateId === -1 ? '' : rates[rateId].comm)}\nuseState{[isCommEnabled, setCommEnabled](comm === '' ? false : true)}"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(u,"RateCriterion","C:\\HARD WORK\\rateU-app\\src\\components\\placementApp-interface\\RateCriterion\\RateCriterion.jsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},2977:(e,t,a)=>{a.d(t,{x:()=>m});var r,n,o,l=a(885),c=a(7294),s=a(7724),i=a(9732),d=a(7478),u=a(7396),f=a(6249),p=a(9106);function m(e){var t=e.userData,a=e.criteria,r=e.rights,n=(0,c.useContext)(i.O),o=n.rates,m=(n.setRates,c.useState(!1)),v=(0,l.Z)(m,2),b=v[0],E=v[1],L=c.useState(!1),R=(0,l.Z)(L,2),g=R[0],h=R[1],H=(0,c.useContext)(d.d),y=(0,c.useContext)(u.S),G=c.useState(!1),x=(0,l.Z)(G,2),S=x[0],I=x[1],D=c.useState("M"),A=(0,l.Z)(D,2),T=A[0],_=A[1];function w(e){return e.some((function(e){return e.user===t.id&&e.task==H.options.taskId}))?(E(!0),!0):(E(!1),!1)}return(0,c.useEffect)((function(){(0,p.R)([t.id]).then((function(e){_(e[0].PERSONAL_GENDER)}))}),[]),(0,c.useEffect)((function(){w(o)&&h(!0),t.id!==y.ID&&I("haveSub"!==r||y.SUBORDINATES.find((function(e){return t.id==e.ID})))}),[]),c.createElement("div",{className:"card my-2"},c.createElement("div",{className:"card-header",role:"button",onClick:function(){S&&h(!g)}},c.createElement("div",{className:"row justify-content-between"},c.createElement("div",{className:"col"},c.createElement("div",{className:"row justify-content-between"},c.createElement("div",{className:"col"},t.name,b?c.createElement("span",{className:"opacity-50"}," ","F"===T?"- оценена":"- оценён"):null),c.createElement("div",{className:"col text-end"},S?null:c.createElement("span",{className:"opacity-50"}," ","Недостаточно прав для оценки")))),c.createElement("div",{className:"col-1 text-end"},c.createElement(f.D,{size:26,active:g&&S})))),g&&S?c.createElement("div",{className:"card-body"},c.createElement("ul",{className:"list-group"},a.map((function(e){return c.createElement(s.G,{key:e.ID,userData:t,criterion:e,changeRated:w})})))):null)}e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useContext{{ rates, setRates }}\nuseState{[rated, setRated](false)}\nuseState{[isRateOn, setRateOn](false)}\nuseContext{placementInfo}\nuseContext{userInfo}\nuseState{[access, setAccess](false)}\nuseState{[genderUser, setGenderUser]('M')}\nuseEffect{}\nuseEffect{}"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(m,"RateUser","C:\\HARD WORK\\rateU-app\\src\\components\\placementApp-interface\\RateUser\\RateUser.jsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},8623:(e,t,a)=>{a.d(t,{d:()=>g});var r,n,o,l=a(5861),c=a(885),s=a(4687),i=a.n(s),d=a(7294),u=a(7478),f=a(7396),p=a(9732),m=a(7498),v=a(2977),b=a(9357),E=a(3038),L=a(2782),R=a(5604);function g(){var e=d.useState(),t=(0,c.Z)(e,2),a=t[0],r=t[1],n=(0,d.useContext)(u.d),o=(0,d.useContext)(f.S),s=d.useState([]),g=(0,c.Z)(s,2),h=g[0],H=g[1],y=d.useState([]),G=(0,c.Z)(y,2),x=G[0],S=G[1],I=d.useState(!0),D=(0,c.Z)(I,2),A=D[0],T=D[1],_=d.useState(void 0),w=(0,c.Z)(_,2),C=w[0],k=w[1];return(0,d.useEffect)((0,l.Z)(i().mark((function e(){var t,a,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m._)(n.options.taskId);case 2:return t=e.sent,e.next=5,(0,R.y)(t.task,void 0,o);case 5:if(!(a=e.sent)){e.next=19;break}return k(a),e.next=10,(0,b.E)();case 10:return(l=e.sent).length?H(l):T(!1),(c=t.task.accomplices).length&&(t.task.accomplices=c.filter((function(e){return e!=t.task.responsibleId}))),e.t0=S,e.next=17,(0,E.j)();case 17:e.t1=e.sent.map((function(e){return{task:e.PROPERTY_VALUES.TASK_ID,user:e.PROPERTY_VALUES.USER_ID,criterion:e.PROPERTY_VALUES.CRITERION_ID,comm:e.PROPERTY_VALUES.COMMENT,rate:e.PROPERTY_VALUES.RATE}})),(0,e.t0)(e.t1);case 19:r(t.task);case 20:case"end":return e.stop()}}),e)}))),[a,h]),a?d.createElement("div",null,d.createElement(p.O.Provider,{value:{rates:x,setRates:S}},A&&C?d.createElement(d.Fragment,null,d.createElement("h5",null,"Исполнитель"),d.createElement(v.x,{userData:a.responsible,criteria:h,rights:C}),a.accomplices.length>0?d.createElement(d.Fragment,null,d.createElement("h5",null,"Соисполнители"),d.createElement("div",null,a.accomplices.map((function(e){return d.createElement(v.x,{key:e,userData:a.accomplicesData[e],criteria:h,rights:C})})))):null,d.createElement(L.e,null)):d.createElement("div",null,C?"Пожалуйста, добавьте критерии для оценки в приложении RateU":"У вас нет необходимых прав для оценки в этой задаче."))):null}e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(g,"useState{[task, setTask]}\nuseContext{placementInfo}\nuseContext{userInfo}\nuseState{[criteria, setCriteria]([])}\nuseState{[rates, setRates]([])}\nuseState{[isCriteriaAdded, setCriteriaAdded](true)}\nuseState{[rights, setRights](undefined)}\nuseEffect{}"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(g,"Responsibles","C:\\HARD WORK\\rateU-app\\src\\components\\placementApp-interface\\Responsibles\\Responsibles.jsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},2782:(e,t,a)=>{a.d(t,{e:()=>v});var r,n,o,l=a(5861),c=a(885),s=a(4687),i=a.n(s),d=a(7294),u=a(9732),f=a(2534),p=a(7478),m=a(2453);function v(){var e,t=(0,d.useContext)(p.d),a=d.useContext(u.O),r=a.rates,n=(a.setRates,d.useState(!1)),o=(0,c.Z)(n,2),s=o[0],v=o[1],b=d.useState(!1),E=(0,c.Z)(b,2),L=E[0],R=E[1];function g(){clearTimeout(e),e=setTimeout((function(){return v(!1)}),3e3)}function h(){return(h=(0,l.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,(0,f.j)(r,t.options.taskId);case 3:a=e.sent,R(!1),a&&(v(!0),g());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d.createElement("div",{className:"d-flex g-0 justify-content-end align-items-center"},d.createElement("div",{className:"ms-2"},L?d.createElement("div",{className:"spinner-grow",role:"status"},d.createElement("span",{className:"visually-hidden"},"Loading...")):null),d.createElement("button",{className:"".concat(m.Z.btnSave," btn text-light"),onClick:function(){return h.apply(this,arguments)}},s?"Сохранено":"Сохранить оценки"))}e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useContext{placementInfo}\nuseContext{{ rates, setRates }}\nuseState{[isSaved, setSaved](false)}\nuseState{[isLoading, setLoading](false)}"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(v,"SaveRatesBtn","C:\\HARD WORK\\rateU-app\\src\\components\\placementApp-interface\\SaveRatesBtn\\SaveRatesBtn.jsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},9798:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r,n=a(5861),o=a(885),l=a(4687),c=a.n(l),s=a(7294),i=a(8623),d=a(2534),u=(a(1984),a(7478));e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var f=function(){var e=s.useState(!1),t=(0,o.Z)(e,2),a=t[0],r=t[1],l=(0,s.useContext)(u.d);(0,s.useEffect)((0,n.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.j)(void 0,l.options.taskId);case 2:e.sent,r(!0);case 4:case"end":return e.stop()}}),e)}))));var f=s.useState(null),p=(0,o.Z)(f,2),m=p[0],v=p[1];return(0,s.useEffect)((function(){BX24.callMethod("app.info",{},(function(e){v(e.data().ID)}))}),[]),s.createElement("div",{className:"container position-relative py-3"},s.createElement("span",{className:"d-flex justify-content-between align-items-center"},s.createElement("h1",null,"Оценка сотрудников"),m?s.createElement("a",{href:"https://avtorit24.ru/marketplace/app/".concat(m,"/"),className:"text-dark text-decoration-none fs-5"},"Перейти к приложению"):""),a?s.createElement(i.d,null):s.createElement("div",{className:"containerLoader"},s.createElement("div",{className:"loader"})))};("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useState{[isRatesLoaded, setRatesLoaded](false)}\nuseContext{placementInfo}\nuseEffect{}\nuseState{[id, setId](null)}\nuseEffect{}");var p=f;const m=p;var v,b;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(f,"PlacementApp","C:\\HARD WORK\\rateU-app\\src\\components\\placementApp-interface\\interface\\ui\\PlacementApp.jsx"),v.register(p,"default","C:\\HARD WORK\\rateU-app\\src\\components\\placementApp-interface\\interface\\ui\\PlacementApp.jsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},6249:(e,t,a)=>{a.d(t,{D:()=>H});var r=a(7294),n=a(3379),o=a.n(n),l=a(7795),c=a.n(l),s=a(569),i=a.n(s),d=a(3565),u=a.n(d),f=a(9216),p=a.n(f),m=a(4589),v=a.n(m),b=a(7578),E={};E.styleTagTransform=v(),E.setAttributes=u(),E.insert=i().bind(null,"head"),E.domAPI=c(),E.insertStyleElement=p(),o()(b.Z,E);const L=b.Z&&b.Z.locals?b.Z.locals:void 0;var R,g,h;function H(e){var t=e.size,a=e.width,n=e.height,o=e.active;return r.createElement("svg",{className:"".concat(L.ArrowDropDown," ").concat(o?L["ArrowDropDown--active"]:""),height:t||n||"48",width:t||a||"48",viewBox:"0 -960 960 960"},r.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M480-381.847 277.848-581.999h404.304L480-381.847Z"}))}e=a.hmd(e),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&R(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&g.register(H,"ArrowDropDown","C:\\HARD WORK\\rateU-app\\src\\icons\\ArrowDropDown\\ArrowDropDown.jsx"),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},9106:(e,t,a)=>{var r;a.d(t,{R:()=>l}),e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,o,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){if(t){var a=[],r=[];t.forEach((function(t){var n=e.find((function(e){return e.ID==t}));n?a.push(n):r.push(t)}));var n=[];return new Promise((function(t,o){0!=r.length?(r.map((function(e){n.push(["user.search",{ID:e}])})),BX24.callBatch(n,(function(r){r.forEach((function(t){var r,n;e.push(null===(r=t.data())||void 0===r?void 0:r.at(0)),a.push(null===(n=t.data())||void 0===n?void 0:n.at(0))})),t(a)}))):t(a)}))}}}();(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(l,"getUsers","C:\\HARD WORK\\rateU-app\\src\\utils\\createSavedUsers.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},9357:(e,t,a)=>{a.d(t,{E:()=>d});var r,n=a(5861),o=a(4687),l=a.n(o),c=a(5254);e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,i,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(){var r=(0,n.Z)(l().mark((function r(n){var o,s,i;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&(e=[]),!(e.length>0)){r.next=4;break}return n(e),r.abrupt("return");case 4:return r.next=6,(0,c.Y)();case 6:o=r.sent.criteriaSection,s=a?{ENTITY:"rates",FILTER:{SECTION:o}}:{ENTITY:"rates",FILTER:{ACTIVE:"Y",SECTION:o}},i=[],BX24.callMethod("entity.item.get",s,(function(t){i=i.concat(t.data()),t.more()?t.next():n(e=i)}));case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}();(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(d,"getCriteria","C:\\HARD WORK\\rateU-app\\src\\utils\\getCriteria.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},3038:(e,t,a)=>{a.d(t,{j:()=>d});var r,n=a(5861),o=a(4687),l=a.n(o),c=a(5254);e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,i,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dateBegin:null,dateEnd:null};return new Promise(function(){var r=(0,n.Z)(l().mark((function r(n){var o,s;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&(e=[]),!(e.length>0)){r.next=4;break}return n(e),r.abrupt("return");case 4:return r.next=6,(0,c.Y)();case 6:o=r.sent.ratesSection,s=[],BX24.callMethod("entity.item.get",{ENTITY:"rates",FILTER:{SECTION:o,">=DATE_CREATE":a.dateBegin,"<DATE_CREATE":a.dateEnd}},(function(t){s=s.concat(t.data()),t.more()?t.next():n(e=s)}));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}();(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(d,"getRates","C:\\HARD WORK\\rateU-app\\src\\utils\\getRates.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},7498:(e,t,a)=>{var r;a.d(t,{_:()=>l}),e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,o,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["ID","RESPONSIBLE_ID","ACCOMPLICES","TITLE","CREATED_BY"];return new Promise((function(r){var n=e.find((function(e){return e.task.id==t}));n?r(n):BX24.callMethod("tasks.task.get",{taskId:t,select:a},(function(t){n=t.data(),e.push(n),r(n)}))}))}}();(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(l,"getTask","C:\\HARD WORK\\rateU-app\\src\\utils\\getTask.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},5604:(e,t,a)=>{a.d(t,{y:()=>d});var r,n,o,l=a(5861),c=a(4687),s=a.n(c),i=a(5753);function d(e,t,a){return new Promise(function(){var r=(0,l.Z)(s().mark((function r(n){var o,l;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!BX24.isAdmin()){r.next=4;break}n("isAdmin"),r.next=15;break;case 4:if(a){r.next=8;break}return r.next=7,(0,i.b)();case 7:a=r.sent;case 8:if(!e){r.next=12;break}if((null===(o=a)||void 0===o?void 0:o.ID)!==(null==e?void 0:e.createdBy)){r.next=12;break}return n("isCreator"),r.abrupt("return");case 12:t||(t=e.accomplices.concat(e.responsibleId)),l=a.SUBORDINATES.find((function(e){return t.includes(e.ID)})),n(l?"haveSub":void 0);case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(d,"isAllowed","C:\\HARD WORK\\rateU-app\\src\\utils\\isAllowed.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},9732:(e,t,a)=>{a.d(t,{O:()=>c});var r,n=a(7294);e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,l,c=(0,n.createContext)();(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(c,"RatesContext","C:\\HARD WORK\\rateU-app\\src\\utils\\ratesContext.js"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},2534:(e,t,a)=>{a.d(t,{j:()=>f});var r,n=a(5861),o=a(4687),l=a.n(o),c=a(5254),s=a(9357);function i(e,t){return e.find((function(e){return e.PROPERTY_VALUES.TASK_ID==t.task&&e.PROPERTY_VALUES.USER_ID==t.user&&e.PROPERTY_VALUES.CRITERION_ID==t.criterion}))}e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d,u,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,a){return new Promise(function(){var r=(0,n.Z)(l().mark((function r(o){var d,u;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t||a||!e.length){r.next=3;break}return o(e),r.abrupt("return");case 3:return r.next=5,(0,c.Y)();case 5:d=r.sent.ratesSection,u=[],BX24.callMethod("entity.item.get",{ENTITY:"rates",FILTER:{SECTION:d}},function(){var r=(0,n.Z)(l().mark((function r(n){var c,f,p;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=u.concat(n.data()),!n.more()){r.next=4;break}return n.next(),r.abrupt("return");case 4:return r.next=6,(0,s.E)();case 6:if(c=(c=r.sent).map((function(e){return e.ID})),a&&(u=u.filter((function(e){return e.PROPERTY_VALUES.TASK_ID==a&&c.includes(e.PROPERTY_VALUES.CRITERION_ID)}))),t){r.next=13;break}return e=u,o(u),r.abrupt("return");case 13:t&&a&&(t=t.filter((function(e){return e.task==a}))),f=[],t.forEach((function(e){(p=i(u,e))?p.PROPERTY_VALUES.COMMENT===e.comm&&p.PROPERTY_VALUES.RATE===e.rate||f.push(["entity.item.update",{ENTITY:"rates",ID:p.ID,PROPERTY_VALUES:{COMMENT:e.comm,RATE:parseInt(e.rate)}}]):f.push(["entity.item.add",{ENTITY:"rates",NAME:"rate".concat(e.task,"-").concat(e.user,"-").concat(e.criterion),PROPERTY_VALUES:{TASK_ID:parseInt(e.task),USER_ID:parseInt(e.user),CRITERION_ID:parseInt(e.criterion),COMMENT:e.comm,RATE:parseInt(e.rate)},SECTION:d}])})),u.forEach((function(e){t.some((function(t){return t.task===e.PROPERTY_VALUES.TASK_ID&&t.user===e.PROPERTY_VALUES.USER_ID&&t.criterion===e.PROPERTY_VALUES.CRITERION_ID}))||f.push(["entity.item.delete",{ENTITY:"rates",ID:e.ID}])})),f.length?BX24.callBatch(f,(function(e){console.log("saved succesfully"),o(e)})):o(u);case 18:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}();(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"findRate","C:\\HARD WORK\\rateU-app\\src\\utils\\saveRatesToEntity.js"),d.register(f,"getRates","C:\\HARD WORK\\rateU-app\\src\\utils\\saveRatesToEntity.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},1984:(e,t,a)=>{var r,n,o;function l(e){return e&&localStorage.setItem("employees",JSON.stringify(e)),JSON.parse(localStorage.getItem("employees"))}function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dateBegin:null,dateEnd:null};return e&&localStorage.setItem("period",JSON.stringify(t)),JSON.parse(localStorage.getItem("period"))}a.d(t,{hM:()=>l,Tq:()=>c}),e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(l,"saveEmployees","C:\\HARD WORK\\rateU-app\\src\\utils\\saveToLS.js"),n.register(c,"savePeriod","C:\\HARD WORK\\rateU-app\\src\\utils\\saveToLS.js"),n.register((function(e){return e&&localStorage.setItem("rates",JSON.stringify(e)),JSON.parse(localStorage.getItem("rates"))}),"saveRates","C:\\HARD WORK\\rateU-app\\src\\utils\\saveToLS.js")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},9987:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(8081),n=a.n(r),o=a(3645),l=a.n(o)()(n());l.push([e.id,".criteriaDropdown__d5c3f71:active {\r\n    background-color: #d4d1fd !important;\r\n} \r\n\r\n.criteriaDropdown__d5c3f71:hover {\r\n    background-color: white !important;\r\n    color: black;\r\n}\r\n\r\n.criteriaDropdownBtn__f993d8e:active {\r\n    background-color: white !important;\r\n}\r\n\r\n.criteriaDropdownBtn__f993d8e:hover {\r\n    background-color: white !important;\r\n}\r\n\r\n@property --r {\r\n\tsyntax: '<length-percentage>';\r\n\tinitial-value: 0px;\r\n\tinherits: false\r\n}\r\n\r\n.bgBtn__b7ab379 {\r\n\tplace-self: center;\r\n    border: none;\r\n\tbox-shadow: inset 1px 3px 1px #fff4;\r\n\tbackground: \r\n\t\tradial-gradient(circle at var(--x, 0%) var(--y, 0%), \r\n        #6443c7 calc(var(--r) - 1px), #7568c5 var(--r)) \r\n\t\t\tborder-box;\r\n\tcolor: white;\r\n\ttransition: --r .35s;\r\n}\r\n\r\n.bgBtn__b7ab379:hover {\r\n    &:hover { --r: 100% }\r\n}\r\n\r\n.bgBtn__b7ab379:active {\r\n    transform: scale(1.03);\r\n}\r\n\r\n.btnSave__e5b7ba6 {\r\n    place-self: center;\r\n    border: none;\r\n\tbox-shadow: inset 1px 3px 1px #fff4;\r\n\tbackground: \r\n\t\tradial-gradient(circle at var(--x, 0%) var(--y, 0%), \r\n        #2f816a calc(var(--r) - 1px), #3f937b var(--r)) \r\n\t\t\tborder-box;\r\n\tcolor: white;\r\n\ttransition: --r .35s;\r\n}\r\n\r\n.btnSave__e5b7ba6:hover {\r\n    &:hover { --r: 100% }\r\n}\r\n\r\n.btnSave__e5b7ba6:active {\r\n    transform: scale(1.03);\r\n}\r\n\r\n.btnReset__e29b60b {\r\n    place-self: center;\r\n    border: none;\r\n\tbox-shadow: inset 1px 3px 1px rgba(255, 255, 255, 0.489);\r\n\tbackground: \r\n\t\tradial-gradient(circle at var(--x, 0%) var(--y, 0%), \r\n        #cb3232 calc(var(--r) - 1px), #d35959 var(--r)) \r\n\t\t\tborder-box;\r\n\tcolor: white;\r\n\ttransition: --r .35s;\r\n}\r\n\r\n.btnReset__e29b60b:hover {\r\n    &:hover { --r: 100% }\r\n}\r\n\r\n.btnReset__e29b60b:active {\r\n    transform: scale(1.03);\r\n}\r\n\r\n.card__a97c6a2 {\r\n    box-shadow: 5px 4.5px 7px -3px #938f9f;\r\n}\r\n",""]),l.locals={criteriaDropdown:"criteriaDropdown__d5c3f71",criteriaDropdownBtn:"criteriaDropdownBtn__f993d8e",bgBtn:"bgBtn__b7ab379",btnSave:"btnSave__e5b7ba6",btnReset:"btnReset__e29b60b",card:"card__a97c6a2"};const c=l},7578:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(8081),n=a.n(r),o=a(3645),l=a.n(o)()(n());l.push([e.id,".ArrowDropDown__e99fe87 {\n    transform: rotate(90deg);\n    fill: var(--bs-body-color);\n    transition: transform .2s ease;\n}\n\n.ArrowDropDown--active__a81bfa7 {\n    transform: none;\n}",""]),l.locals={ArrowDropDown:"ArrowDropDown__e99fe87","ArrowDropDown--active":"ArrowDropDown--active__a81bfa7"};const c=l},2453:(e,t,a)=>{a.d(t,{Z:()=>E});var r=a(3379),n=a.n(r),o=a(7795),l=a.n(o),c=a(569),s=a.n(c),i=a(3565),d=a.n(i),u=a(9216),f=a.n(u),p=a(4589),m=a.n(p),v=a(9987),b={};b.styleTagTransform=m(),b.setAttributes=d(),b.insert=s().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=f(),n()(v.Z,b);const E=v.Z&&v.Z.locals?v.Z.locals:void 0},2982:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(907),n=a(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,n.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);